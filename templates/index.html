<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oxylabs Web Scraper API Testing Tool</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Oxylabs Web Scraper API Testing Tool</h1>

    <div class="container">
        <!-- URL Discovery -->
        <div class="section">
            <h2>Step 1: Discover URLs</h2>
            <form id="discover-form">
                <textarea id="start-urls" placeholder="Enter domains or starting URLs, one per line" required></textarea>
                <input type="number" id="target-count" placeholder="Target URL count" required>
                <textarea id="url-regex" placeholder="Optional: Enter regex patterns for URLs to discover, one per line"></textarea>
                <button type="submit">Discover URLs</button>
                <button type="button" id="stop-discovery" style="display: none; background-color: #dc3545; color: white;">Stop All Discoveries</button>
            </form>
            <div id="discover-progress"></div>
            <div id="discovery-logs-container" class="section">
                <h3>Discovery Logs</h3>
                <button id="refresh-logs-btn">Refresh Logs</button>
                <div id="discovery-logs" class="scrollable-list"></div>
            </div>
        </div>

        <!-- URL Selection -->
        <div class="section">
            <h2>Step 2: Select URLs</h2>
            <div class="controls">
                <div class="view-toggle">
                    <label class="switch">
                        <input type="checkbox" id="view-toggle-checkbox" checked>
                        <span class="slider round"></span>
                    </label>
                    <span id="view-toggle-label">Global View</span>
                </div>
                <input type="text" id="domain-search" placeholder="Search domains">
                <div id="domain-list" class="scrollable-list"></div>
                <input type="text" id="filter-input" placeholder="Filter URLs">
                <button id="sort-asc">Sort A-Z</button>
                <button id="sort-desc">Sort Z-A</button>
                <button id="select-all">Select All</button>
                <button id="unselect-all">Unselect All</button>
                <button id="export-selected">Export Selected URLs</button>
                <button id="export-domain">Export Domain URLs</button>
            </div>
            <div id="url-list" class="scrollable-list"></div>
            <div id="selected-count">Selected URLs: 0</div>
        </div>

        <!-- Bulk Job Creation -->
        <div class="section">
            <h2>Step 3: Create Bulk Jobs</h2>
            <form id="create-jobs-form">
                <input type="number" id="job-target-count" placeholder="Target job count">
                <label for="rate-limit">Jobs per second:</label>
                <input type="number" id="rate-limit" value="10">
                <textarea id="custom-params" placeholder="Enter custom JSON parameters"></textarea>
                <button type="button" id="create-jobs-btn">Create Jobs</button>
                <button type="button" id="stop-jobs" style="display: none; background-color: #dc3545; color: white;">Stop Jobs</button>
            </form>
            <div id="job-progress"></div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
